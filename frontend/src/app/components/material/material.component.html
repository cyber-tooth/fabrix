<div class="container d-flex flex-column sticky-footer-wrapper min-vh-100">
  <div class="row">
    <div class="col-2" style="border-right: #777777" *ngIf="categoriesAreFetched">
      <div class="btn-group btn-block dropdown" dropdown container="body" [insideClick]="true"
           *ngFor="let mainCategory of mainCategories">
        <button id="button-nested" dropdownToggle type="button" class="btn btn-secondary dropdown-toggle"
                data-toggle="dropdown-grid" type="button" aria-expanded="false" aria-haspopup="true">
          {{mainCategory.categoryName}} <span class="caret"></span>
        </button>
        <div id="dropdown-nested" *dropdownMenu class="dropdown-menu"
             role="menu" aria-labelledby="button-nested">
          <span *ngIf="mainCategory.children as list ">
              <ng-template #recursiveList let-list>
                <div role="menuitem" style="min-width: 15rem" dropdown [autoClose]="true" [insideClick]="true"
                     triggers="mouseover" placement="right"
                     container="body" *ngFor="let item of list; let index = index">
                      <div *ngIf="index!=0" class="dropdown-divider"></div>

                      <a *ngIf="item.children.length > 0 else filter" dropdownToggle
                         class="dropdown-item dropdown-toggle"
                         (click)="false"> <span>{{item.categoryName}}</span></a>
                     <ng-template #filter>
                       <a *ngIf="!item.hasDegree else dgreeFilter"
                          [ngClass]="item.selected?  'active' : ''" (click)="select(item)"
                          style="min-width: 25rem;" class="dropdown-item">
                           {{item.categoryName}}
                        </a>
                     </ng-template>
                     <ng-template #dgreeFilter>
                        <labe style="min-width: 25rem" class="dropdown-item">
                           {{item.categoryName}}
                        </labe>
                       <div class="p-2">
                         <ngx-slider [(value)]="item.minDegree" [(highValue)]="item.maxDegree" (valueChange)="setValues(item)"
                                     [options]="Weightoptions"></ngx-slider>
                       </div>
                     </ng-template>
                      <span *ngIf="item.children.length > 0">
                        <div *dropdownMenu class="dropdown-menu  ml-1" role="menu">
                          <div role="menuitem">
                             <ng-container
                               *ngTemplateOutlet="recursiveList; context:{ $implicit: item.children }"></ng-container>
                          </div>
                        </div>
                      </span>
                    </div>
          </ng-template>
              <ng-container *ngTemplateOutlet="recursiveList; context: { $implicit: mainCategory.children }"></ng-container>
          </span>
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-10 col-lg-10">
      <app-materialcard-list></app-materialcard-list>
    </div>
  </div>
</div>



